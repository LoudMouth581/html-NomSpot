<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Behind the Beats: Dark Music Industry Mystery</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Share+Tech+Mono&display=swap');
    body {
      background: #000;
      color: #eee;
      font-family: 'Share Tech Mono', monospace;
      margin: 0; padding: 20px;
      user-select: none;
      overflow-x: hidden;
    }
    h1 {
      font-family: 'Orbitron', sans-serif;
      font-size: 3rem;
      color: #00ff99;
      text-align: center;
      margin-bottom: 1rem;
      animation: glitch 2s infinite;
      cursor: default;
      user-select: text;
    }
    @keyframes glitch {
      0%, 100% { text-shadow: 0 0 5px #00ff99, 0 0 10px #00ff99, 0 0 20px #00ff99; }
      25% { text-shadow: 1px 0 5px #00ff99, -1px 0 10px #00ff99; }
      50% { text-shadow: -1px 0 5px #00ff99, 1px 0 10px #00ff99; }
      75% { text-shadow: 0 1px 5px #00ff99, 0 -1px 10px #00ff99; }
    }
    .container {
      max-width: 700px;
      margin: 0 auto;
    }
    .clue-section {
      background: #111;
      border: 1px solid #0f0;
      padding: 15px;
      margin: 15px 0;
      border-radius: 6px;
      box-shadow: 0 0 10px #0f0 inset;
      transition: box-shadow 0.3s;
      position: relative;
    }
    .clue-section:hover {
      box-shadow: 0 0 20px #00ff99, 0 0 30px #00ff99 inset;
      animation: flicker 0.2s infinite;
    }
    @keyframes flicker {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    label, p {
      font-size: 1.1rem;
    }
    input[type="text"] {
      background: #000;
      border: 1px solid #0f0;
      color: #0f0;
      font-family: 'Share Tech Mono', monospace;
      font-size: 1rem;
      padding: 5px 8px;
      width: 60%;
      margin-right: 10px;
    }
    button {
      background: #0f0;
      border: none;
      color: #000;
      font-weight: bold;
      cursor: pointer;
      padding: 6px 12px;
      font-family: 'Share Tech Mono', monospace;
      transition: background 0.3s;
    }
    button:hover {
      background: #00ff99;
    }
    .feedback {
      margin-top: 8px;
      font-weight: bold;
      min-height: 1.4em;
    }
    .correct {
      color: #00ff99;
    }
    .encrypted {
      color: #ff3300;
      font-family: 'Share Tech Mono', monospace;
      font-weight: bold;
      cursor: pointer;
      user-select: text;
      text-shadow: 0 0 8px #ff3300;
      user-select: all;
    }
    .footer {
      margin-top: 40px;
      text-align: center;
      font-size: 0.9rem;
      color: #222;
    }
    .final-message {
      margin-top: 25px;
      background: #002200;
      border: 1px solid #00ff00;
      padding: 15px;
      border-radius: 6px;
      color: #00ff00;
      font-weight: bold;
      text-align: center;
      font-size: 1.2rem;
    }
    /* Easter egg - secret clickable spot */
    #secret-spot {
      position: absolute;
      bottom: 5px;
      right: 5px;
      width: 20px;
      height: 20px;
      background: transparent;
      cursor: pointer;
    }
    #secret-spot:hover {
      background: #00ff0099;
      border-radius: 50%;
      box-shadow: 0 0 10px #00ff00;
    }
    /* Social buttons */
    .social-buttons {
      text-align: center;
      margin-top: 20px;
    }
    .social-buttons button {
      background: #111;
      color: #00ff99;
      border: 1px solid #00ff99;
      padding: 8px 16px;
      margin: 0 5px;
      cursor: pointer;
      font-family: 'Share Tech Mono', monospace;
      transition: background 0.3s, color 0.3s;
      border-radius: 4px;
    }
    .social-buttons button:hover {
      background: #00ff99;
      color: #000;
    }
    /* Audio visual glitch hint */
    #audio-hint {
      text-align: center;
      font-size: 0.9rem;
      color: #0f0;
      margin-top: 5px;
      font-style: italic;
    }

    /* New styles for layered audio puzzle */
    .audio-mixer {
      display: flex;
      justify-content: space-around;
      margin-top: 15px;
    }
    .audio-control {
      background: #222;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #0f0;
      box-shadow: 0 0 10px #0f0 inset;
      width: 30%;
      text-align: center;
    }
    .audio-control label {
      display: block;
      margin-bottom: 5px;
      color: #0f0;
      font-weight: bold;
    }
    .audio-control button {
      background: #000;
      color: #0f0;
      border: 1px solid #0f0;
      font-weight: normal;
      cursor: pointer;
      padding: 5px 10px;
      border-radius: 4px;
      transition: background 0.3s, color 0.3s;
    }
    .audio-control button:hover {
      background: #0f0;
      color: #000;
    }
    #glitch-effect {
      margin-top: 10px;
      text-align: center;
      color: #0f0;
      font-weight: bold;
      cursor: pointer;
      user-select: none;
    }
    #glitch-effect.active {
      color: #ff3300;
      text-shadow: 0 0 10px #ff3300;
    }
  </style>
</head>
<body>
  <h1 tabindex="0">Behind the Beats: Dark Music Industry Mystery</h1>
  <div class="container">

    <!-- Clue 1 -->
    <div class="clue-section" id="clue1">
      <h2>Clue 1: The Curse of the 27 Club</h2>
      <p>Many iconic musicians died at age 27 under mysterious or tragic circumstances.</p>
      <label for="q1">Name one famous member of the 27 Club.</label><br />
      <input type="text" id="q1" autocomplete="off" aria-describedby="feedback1" />
      <button onclick="checkAnswer1()">Submit</button>
      <div class="feedback" id="feedback1" role="alert"></div>
    </div>

    <!-- Clue 2 -->
    <div class="clue-section" id="clue2" style="display:none;">
      <h2>Clue 2: The Untold Story of Tupac</h2>
      <p>Tupac Shakur's death remains officially unsolved, but many speculate involvement beyond the surface.</p>
      <label for="q2">In which city was Tupac fatally shot?</label><br />
      <input type="text" id="q2" autocomplete="off" aria-describedby="feedback2" />
      <button onclick="checkAnswer2()">Submit</button>
      <div class="feedback" id="feedback2" role="alert"></div>
    </div>

    <!-- Clue 3 -->
    <div class="clue-section" id="clue3" style="display:none;">
      <h2>Clue 3: The Notorious B.I.G. Case</h2>
      <p>Biggieâ€™s murder was never solved; some claim political and music mogul connections.</p>
      <label for="q3">Which city was Biggie Smalls killed in?</label><br />
      <input type="text" id="q3" autocomplete="off" aria-describedby="feedback3" />
      <button onclick="checkAnswer3()">Submit</button>
      <div class="feedback" id="feedback3" role="alert"></div>
    </div>

    <!-- Final message -->
    <div class="final-message" id="finalMessage" style="display:none;">
      Congratulations! You've uncovered the dark truth behind the beats. <br />
      Share your discovery and keep the mystery alive.
    </div>

    <!-- Social buttons -->
    <div class="social-buttons" id="shareButtons" style="display:none;">
      <button onclick="share('twitter')">Share on Twitter</button>
      <button onclick="share('facebook')">Share on Facebook</button>
      <button onclick="share('linkedin')">Share on LinkedIn</button>
    </div>

    <!-- Audio mixer controls (rich layered audio interaction) -->
    <div class="audio-mixer" id="audioMixer">

      <!-- Clue 1 Audio Layers -->
      <div class="audio-control">
        <label for="audio1_layer1">Clue 1 - Layer 1: Bell Ring</label>
        <button id="audio1_btn1" onclick="toggleAudio('audio1_layer1', 'audio1_btn1')">Play</button>
        <audio id="audio1_layer1" src="https://actions.google.com/sounds/v1/alarms/medium_bell_ring.ogg" preload="auto" loop></audio>
      </div>
      <div class="audio-control">
        <label for="audio1_layer2">Clue 1 - Layer 2: Echo</label>
        <button id="audio1_btn2" onclick="toggleAudio('audio1_layer2', 'audio1_btn2')">Play</button>
        <audio id="audio1_layer2" src="https://actions.google.com/sounds/v1/ambiences/echo.ogg" preload="auto" loop></audio>
      </div>
      <div class="audio-control">
        <label for="audio1_layer3">Clue 1 - Layer 3: Static Noise</label>
        <button id="audio1_btn3" onclick="toggleAudio('audio1_layer3', 'audio1_btn3')">Play</button>
        <audio id="audio1_layer3" src="https://actions.google.com/sounds/v1/ambiences/static_noise.ogg" preload="auto" loop></audio>
      </div>

    </div>

    <div id="glitch-effect" onclick="toggleGlitch()" title="Toggle glitch effect on/off">
      Glitch Effect: OFF
    </div>

    <div id="secret-spot" title="Secret spot"></div>

  </div>

  <script>
    // Answers - case insensitive
    const answers = {
      q1: ['jim morrison', 'jimi hendrix', 'janis joplin', 'kurt cobain', 'amy winehouse', 'robert johnson'],
      q2: ['las vegas', 'las vegas, nv', 'las vegas nevada'],
      q3: ['los angeles', 'la', 'los angeles ca', 'los angeles california']
    };

    function normalize(str) {
      return str.trim().toLowerCase();
    }

    function checkAnswer1() {
      const input = document.getElementById('q1');
      const feedback = document.getElementById('feedback1');
      const val = normalize(input.value);
      if (answers.q1.some(a => val === a)) {
        feedback.textContent = 'Correct! Proceeding to next clue...';
        feedback.className = 'feedback correct';
        document.getElementById('clue2').style.display = 'block';
        document.getElementById('audioMixer').style.display = 'flex';
      } else {
        feedback.textContent = 'Try again.';
        feedback.className = 'feedback';
      }
    }

    function checkAnswer2() {
      const input = document.getElementById('q2');
      const feedback = document.getElementById('feedback2');
      const val = normalize(input.value);
      if (answers.q2.some(a => val === a)) {
        feedback.textContent = 'Correct! Proceeding to next clue...';
        feedback.className = 'feedback correct';
        document.getElementById('clue3').style.display = 'block';
      } else {
        feedback.textContent = 'Try again.';
        feedback.className = 'feedback';
      }
    }

    function checkAnswer3() {
      const input = document.getElementById('q3');
      const feedback = document.getElementById('feedback3');
      const val = normalize(input.value);
      if (answers.q3.some(a => val === a)) {
        feedback.textContent = 'Correct! You solved the mystery!';
        feedback.className = 'feedback correct';
        document.getElementById('finalMessage').style.display = 'block';
        document.getElementById('shareButtons').style.display = 'block';
      } else {
        feedback.textContent = 'Try again.';
        feedback.className = 'feedback';
      }
    }

    // Audio toggle for layered puzzle
    function toggleAudio(audioId, btnId) {
      const audio = document.getElementById(audioId);
      const btn = document.getElementById(btnId);
      if (audio.paused) {
        audio.play();
        btn.textContent = 'Pause';
        btn.classList.add('playing');
      } else {
        audio.pause();
        btn.textContent = 'Play';
        btn.classList.remove('playing');
      }
    }

    // Glitch effect toggle on the main title
    function toggleGlitch() {
      const h1 = document.querySelector('h1');
      const glitchBtn = document.getElementById('glitch-effect');
      if (h1.style.textShadow) {
        h1.style.textShadow = '';
        glitchBtn.textContent = 'Glitch Effect: OFF';
        glitchBtn.classList.remove('active');
      } else {
        h1.style.textShadow = '0 0 5px #00ff99, 0 0 10px #00ff99, 0 0 20px #00ff99';
        glitchBtn.textContent = 'Glitch Effect: ON';
        glitchBtn.classList.add('active');
      }
    }

    // Easter egg: secret spot click to toggle all audio layers on/off
    const secretSpot = document.getElementById('secret-spot');
    secretSpot.addEventListener('click', () => {
      const audios = ['audio1_layer1', 'audio1_layer2', 'audio1_layer3'];
      const buttons = ['audio1_btn1', 'audio1_btn2', 'audio1_btn3'];

      // If any audio is playing, pause all; else play all
      const anyPlaying = audios.some(id => !document.getElementById(id).paused);
      audios.forEach((id, i) => {
        const audio = document.getElementById(id);
        const btn = document.getElementById(buttons[i]);
        if (anyPlaying) {
          audio.pause();
          btn.textContent = 'Play';
          btn.classList.remove('playing');
        } else {
          audio.play();
          btn.textContent = 'Pause';
          btn.classList.add('playing');
        }
      });
      alert('Secret audio toggle!');
    });

    // Prevent text selection for the puzzle except input fields
    document.body.addEventListener('mousedown', e => {
      if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
        e.preventDefault();
      }
    });
  </script>
</body>
</html>
