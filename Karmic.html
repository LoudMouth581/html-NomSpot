<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        background: #000011;
        font-family: sans-serif;
      }
      canvas {
        display: block;
        position: absolute;
        top: 0;
        left: 0;
        z-index: -1;
      }
      #info {
        position: absolute;
        top: 10px;
        left: 10px;
        color: #fff;
        z-index: 10;
      }
      #taoIndicator {
        position: absolute;
        top: 10px;
        right: 10px;
        width: 150px;
        height: 30px;
        border: 2px solid #fff;
        border-radius: 15px;
        overflow: hidden;
        background: #111;
        z-index: 10;
      }
      #taoBar {
        height: 100%;
        width: 50%;
        background: lime;
        transition: width 0.2s;
      }
    </style>
  </head>
  <body>
    <div id="info"></div>
    <div id="taoIndicator"><div id="taoBar"></div></div>
    <canvas id="karmaCanvas"></canvas>
    <script>
      const canvas = document.getElementById("karmaCanvas");
      const ctx = canvas.getContext("2d");
      let width = (canvas.width = window.innerWidth);
      let height = (canvas.height = window.innerHeight);

      // Leaders data
      const leaders = [
        { name: "Elon Musk", karma: 92, aura: "#4A90E2" },
        { name: "Peter Thiel", karma: 87, aura: "#FFD700" },
        { name: "Jeff Bezos", karma: 78, aura: "#778899" },
        { name: "Mark Zuckerberg", karma: 89, aura: "#FF4500" },
        { name: "Gavin Newsom", karma: 83, aura: "#FF6347" },
        { name: "Donald Trump", karma: 85, aura: "#4682B4" },
        { name: "Kim Jong Un", karma: 90, aura: "#778899" },
        { name: "Vladimir Putin", karma: 75, aura: "#87CEEB" },
        { name: "Xi Jinping", karma: 88, aura: "#FF69B4" },
        { name: "Mohammed bin Salman", karma: 70, aura: "#FF6347" },
        { name: "Hun Sen", karma: 88, aura: "#6A5ACD" },
        { name: "Hun Manet", karma: 84, aura: "#FF8C00" },
        { name: "Laura Mam", karma: 71, aura: "#483D8B" },
        { name: "Sam Altman", karma: 95, aura: "#FF4500" },
        { name: "Alex Pham", karma: 95, aura: "#87CEEB" },
        { name: "Andrew Tevuth Mam", karma: 88, aura: "#00CED1" },
        { name: "Ton Chanseyma", karma: 80, aura: "#FF69B4" },
        { name: "Tep Boprek", karma: 82, aura: "#FF3399" },
        { name: "Thida Mam", karma: 79, aura: "#9933FF" },
        { name: "Preap Sovath", karma: 85, aura: "#FF6600" },
        { name: "Kris Newton", karma: 90, aura: "#00FFAA" },
      ];

      
      const nodes = [
        { x: width * 0.4, y: height * 0.3, energy: 0 },
        { x: width * 0.6, y: height * 0.25, energy: 0 },
        { x: width * 0.5, y: height * 0.5, energy: 0 },
        { x: width * 0.3, y: height * 0.6, energy: 0 },
        { x: width * 0.7, y: height * 0.65, energy: 0 },
        { x: width * 0.4, y: height * 0.75, energy: 0 },
        { x: width * 0.6, y: height * 0.8, energy: 0 },
        { x: width * 0.5, y: height * 0.9, energy: 0 },
        { x: width * 0.2, y: height * 0.4, energy: 0 },
        { x: width * 0.8, y: height * 0.35, energy: 0 },
        { x: width * 0.25, y: height * 0.7, energy: 0 },
      ];

      
      leaders.forEach((leader, i) => (leader.node = nodes[i % nodes.length]));

      
      const absorber = { x: width / 2, y: height / 2, energy: 0, radius: 40 };

      
      class Particle {
        constructor(leader, node) {
          this.leader = leader;
          this.node = node;
          this.reset();
        }
        reset() {
          this.x = Math.random() * width;
          this.y = Math.random() * height;
          this.speed = 0.02 + Math.random() * 0.02;
          this.progress = 0;
          this.size = 2 + Math.random() * 2;
        }
        update() {
          this.progress += this.speed * (this.leader.karma / 100);
          if (this.progress >= 1) {
            this.node.energy = Math.min(
              this.node.energy + this.leader.karma * 0.02,
              100
            );
            absorber.energy = Math.min(
              absorber.energy + this.leader.karma * 0.01,
              100
            );
            this.progress = 0;
            this.reset();
          }
          this.currentX = this.x + (this.node.x - this.x) * this.progress;
          this.currentY = this.y + (this.node.y - this.y) * this.progress;
        }
        draw(ctx) {
          const gradient = ctx.createRadialGradient(
            this.currentX,
            this.currentY,
            0,
            this.currentX,
            this.currentY,
            this.size * 3
          );
          gradient.addColorStop(0, this.leader.aura);
          gradient.addColorStop(1, "rgba(0,0,0,0)");
          ctx.fillStyle = gradient;
          ctx.beginPath();
          ctx.arc(this.currentX, this.currentY, this.size, 0, Math.PI * 2);
          ctx.fill();
        }
      }

      const particles = [];
      leaders.forEach((leader) => {
        for (let i = 0; i < 50; i++) {
          particles.push(new Particle(leader, leader.node));
        }
      });

      
      class TarotCard {
        constructor(node) {
          this.node = node;
          this.angle = Math.random() * Math.PI * 2;
          this.radius = 20 + Math.random() * 20;
          this.size = 20;
          this.color = `hsl(${Math.random() * 360},80%,60%)`;
          this.speed = 0.01 + Math.random() * 0.02;
        }
        update() {
          this.angle += this.speed * (0.5 + this.node.energy / 100);
          this.x = this.node.x + Math.cos(this.angle) * this.radius;
          this.y = this.node.y + Math.sin(this.angle) * this.radius;
        }
        draw(ctx) {
          ctx.save();
          ctx.translate(this.x, this.y);
          ctx.rotate(this.angle);
          const intensity = Math.min(1, this.node.energy / 100 + 0.3);
          ctx.fillStyle = this.color.replace("60%", "" + 60 * intensity + "%");
          ctx.fillRect(
            -this.size / 2,
            -this.size / 2,
            this.size,
            this.size * 1.4
          );
          ctx.restore();
        }
      }

      const tarotCards = [];
      nodes.forEach((node) => {
        for (let i = 0; i < 3; i++) {
          tarotCards.push(new TarotCard(node));
        }
      });

      
      let cosmicIntensity = 0.5;

    
      function updateTao() {
        let totalEnergy =
          nodes.reduce((a, n) => a + n.energy, 0) + absorber.energy;
        let balance = Math.sin(totalEnergy / 200);
        document.getElementById("taoBar").style.width = `${50 + balance * 50}%`;
      }

      
      function drawAurora() {
        const gradient = ctx.createLinearGradient(0, 0, width, height);
        const color1 = `rgba(${Math.floor(
          50 + cosmicIntensity * 205
        )},0,${Math.floor(150 + cosmicIntensity * 105)},0.2)`;
        const color2 = `rgba(0,${Math.floor(
          100 + cosmicIntensity * 155
        )},${Math.floor(50 + cosmicIntensity * 205)},0.2)`;
        gradient.addColorStop(0, color1);
        gradient.addColorStop(1, color2);
        ctx.fillStyle = gradient;
        ctx.fillRect(0, 0, width, height);
      }

      
      function draw() {
        ctx.clearRect(0, 0, width, height);
        drawAurora();

        
        nodes.forEach((node) => {
          const glow = 10 + node.energy * 0.5;
          ctx.beginPath();
          ctx.arc(node.x, node.y, 12, 0, Math.PI * 2);
          ctx.fillStyle = `rgba(255,${200 - node.energy},100,0.6)`;
          ctx.shadowBlur = glow;
          ctx.shadowColor = "rgba(255,255,200,0.8)";
          ctx.fill();
          ctx.shadowBlur = 0;
        });

      
        const absorberGlow = 20 + absorber.energy * 0.7;
        ctx.beginPath();
        ctx.arc(absorber.x, absorber.y, absorber.radius, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(255,255,255,0.6)`;
        ctx.shadowBlur = absorberGlow;
        ctx.shadowColor = "rgba(255,255,255,1)";
        ctx.fill();
        ctx.shadowBlur = 0;

        
        particles.forEach((p) => {
          p.update();
          p.draw(ctx);
        });

        
        tarotCards.forEach((tc) => {
          tc.update();
          tc.draw(ctx);
        });

        
        cosmicIntensity = 0.4 + 0.6 * Math.abs(Math.sin(Date.now() * 0.0001));

        updateTao();
        requestAnimationFrame(draw);
      }

      draw();
      window.addEventListener("resize", () => {
        width = canvas.width = window.innerWidth;
        height = canvas.height = window.innerHeight;
        absorber.x = width / 2;
        absorber.y = height / 2;
        nodes.forEach((n, i) => {
          n.x = (nodes[i].x / width) * canvas.width;
          n.y = (nodes[i].y / height) * canvas.height;
        });
      });
    </script>
  </body>
</html>
