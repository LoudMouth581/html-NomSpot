<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Astro Karma Dashboard</title>
  <style>
    body {
      background: #121212;
      color: white;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      padding: 20px;
      margin: 0;
      user-select: none;
    }

    h1, h2 {
      text-align: center;
      margin-bottom: 1rem;
    }

    .section {
      margin: 2.5rem auto;
      max-width: 1000px;
    }

    .gauges, #dashboard, #chakra-container, #extra-gauges, #houses {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }

    .gauge {
      background: #222;
      width: 140px;
      height: 140px;
      border-radius: 14px;
      box-shadow: inset 0 0 10px #000, 0 0 10px #444;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
      text-align: center;
    }

    .gauge-circle, .circle {
      width: 90px;
      height: 90px;
      border-radius: 50%;
      background: #444;
      box-shadow: inset 0 0 12px #000;
      font-size: 32px;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.8s ease;
      margin-bottom: 6px;
    }

    .gauge-title, .title {
      font-weight: bold;
      font-size: 14px;
    }

    .gauge-value, .value {
      font-size: 16px;
      font-weight: 600;
      color: #ccc;
    }

    .birth-chart {
      text-align: center;
      margin-top: 40px;
    }

    .na-map {
      display: grid;
      grid-template-columns: repeat(8, 32px);
      grid-template-rows: repeat(10, 32px);
      gap: 2px;
      justify-content: center;
      margin: 1rem auto;
    }

    .block {
      border-radius: 4px;
      background: transparent;
    }

    .block.fill {
      background: #2b5d98;
      box-shadow: inset 0 0 6px #4a8dfd99;
    }

    .block.birthplace {
      background: #dbaa00;
      box-shadow: 0 0 10px 3px #ffcc33aa;
      position: relative;
    }

    .block.birthplace::after {
      content: "";
      position: absolute;
      top: 8px;
      left: 8px;
      width: 14px;
      height: 14px;
      background: #ffec7d;
      border-radius: 50%;
      box-shadow: 0 0 8px #ffec7dcc;
    }

    /* Chakra colors */
    .chakra-Root { background: #ff4433; }
    .chakra-Sacral { background: #ff914d; }
    .chakra-Solar { background: #ffec4d; color: #222; }
    .chakra-Heart { background: #55dd55; }
    .chakra-Throat { background: #3399ff; }
    .chakra-ThirdEye { background: #6e4b9e; }
    .chakra-Crown { background: #aa55cc; }

    /* Taoist element colors */
    .el-Wood { background: #228B22; }
    .el-Fire { background: #e25822; }
    .el-Earth { background: #8B4513; }
    .el-Metal { background: #B0C4DE; color: #111; }
    .el-Water { background: #1e90ff; }
  </style>
</head>
<body>

  <h1>Astro Karma & Chakra Dashboard</h1>

  <div class="section">
    <h2>Planetary Karma Gauges</h2>
    <div id="dashboard"></div>
  </div>

  <div class="section">
    <h2>Chakra Energy (Based on Karma)</h2>
    <div id="chakra-container"></div>
  </div>

  <div class="section">
    <h2>12 Astrological Houses</h2>
    <div id="houses"></div>
  </div>

  <div class="section">
    <h2>Additional Gauges</h2>
    <div id="extra-gauges"></div>
  </div>

  <div class="section birth-chart">
    <h2>USA Birthplace Map (NYC)</h2>
    <div class="na-map" id="na-map"></div>
    <p><small>Orange block = NYC (birthplace)</small></p>
  </div>

  <div class="section">
    <h2>Karma Gauge (Chakra Style)</h2>
    <div class="gauges" id="karmaGauge"></div>
  </div>

  <div class="section">
    <h2>Current Nakshatra (Vedic Astrology)</h2>
    <div class="gauges" id="nakshatraGauge"></div>
  </div>

  <div class="section">
    <h2>Taoist Element of the Moment</h2>
    <div class="gauges" id="taoGauge"></div>
  </div>

<script>
  const planetPeriods = {
    Sun: 365.25, Moon: 27.3, Mercury: 88, Venus: 225, Mars: 687,
    Jupiter: 4333, Saturn: 10759, Uranus: 30685, Neptune: 60190, Pluto: 90560
  };

  const natalPositions = {
    Sun: 120, Moon: 200, Mercury: 135, Venus: 150, Mars: 220,
    Jupiter: 300, Saturn: 270, Uranus: 15, Neptune: 330, Pluto: 285
  };

  const chakraColors = [
    { name: 'Root', color: '#ff4433' },
    { name: 'Sacral', color: '#ff914d' },
    { name: 'Solar Plexus', color: '#ffec4d' },
    { name: 'Heart', color: '#55dd55' },
    { name: 'Throat', color: '#3399ff' },
    { name: 'Third Eye', color: '#6e4b9e' },
    { name: 'Crown', color: '#aa55cc' }
  ];

  const chakraClasses = [
    'chakra-Root','chakra-Sacral','chakra-Solar','chakra-Heart',
    'chakra-Throat','chakra-ThirdEye','chakra-Crown'
  ];

  const nakshatras = [
    "Ashwini","Bharani","Krittika","Rohini","Mrigashira","Ardra","Punarvasu",
    "Pushya","Ashlesha","Magha","Purva Phalguni","Uttara Phalguni","Hasta","Chitra",
    "Swati","Vishakha","Anuradha","Jyeshtha","Moola","Purva Ashadha",
    "Uttara Ashadha","Shravana","Dhanishtha","Shatabhisha","Purva Bhadrapada",
    "Uttara Bhadrapada","Revati","Abhijit"
  ];

  const elements = [
    { name: 'Wood', class: 'el-Wood' },
    { name: 'Fire', class: 'el-Fire' },
    { name: 'Earth', class: 'el-Earth' },
    { name: 'Metal', class: 'el-Metal' },
    { name: 'Water', class: 'el-Water' }
  ];

  const houseLabels = [
    "Self", "Money", "Communication", "Home", "Creativity", "Service",
    "Partnerships", "Transformation", "Philosophy", "Career", "Community", "Spirituality"
  ];

  const naShapeIndices = new Set([
    10,11,12,18,19,20,21,26,27,28,29,30,34,35,36,37,38,42,43,44,45,46,
    50,51,52,53,58,59,60,66,67
  ]);

  const birthplaceIndex = 67;

  function renderMap() {
    const map = document.getElementById("na-map");
    for (let i = 0; i < 80; i++) {
      const div = document.createElement("div");
      div.className = "block";
      if (i === birthplaceIndex) div.classList.add("birthplace");
      else if (naShapeIndices.has(i)) div.classList.add("fill");
      map.appendChild(div);
    }
  }

  function renderPlanetGauges() {
    const dash = document.getElementById("dashboard");
    for (const [planet, period] of Object.entries(planetPeriods)) {
      const natal = natalPositions[planet];
      const now = (Date.now() / (1000 * 60 * 60 * 24)) % period * 360 / period;
      const diff = (now - natal + 360) % 360;
      const val = Math.round(diff);
      const div = document.createElement("div");
      div.className = "gauge";
      div.innerHTML = `<div class="gauge-circle">${val}Â°</div><div class="gauge-title">${planet}</div>`;
      dash.appendChild(div);
    }
  }

  function renderChakraKarma() {
    const chakras = document.getElementById("chakra-container");
    chakraColors.forEach((chakra, i) => {
      const val = Math.floor(Math.random() * 100);
      const div = document.createElement("div");
      div.className = `gauge ${chakraClasses[i]}`;
      div.innerHTML = `<div class="circle">${val}</div><div class="title">${chakra.name}</div><div class="value">Karma</div>`;
      chakras.appendChild(div);
    });
  }

  function renderHouses() {
    const container = document.getElementById("houses");
    houseLabels.forEach((label, i) => {
      const val = Math.floor(Math.random() * 100);
      const div = document.createElement("div");
      div.className = "gauge";
      div.innerHTML = `<div class="circle">${val}</div><div class="title">House ${i+1}</div><div class="value">${label}</div>`;
      container.appendChild(div);
    });
  }

  function renderExtraGauges() {
    const container = document.getElementById("extra-gauges");

    const usaAge = Math.floor((Date.now() - new Date("1776-07-04")) / 3.154e+10);
    const ageDiv = document.createElement("div");
    ageDiv.className = "gauge";
    ageDiv.innerHTML = `<div class="circle">${usaAge}</div><div class="title">USA Age</div><div class="value">Years</div>`;
    container.appendChild(ageDiv);

    const yinYang = Math.floor(Math.random() * 100);
    const yyDiv = document.createElement("div");
    yyDiv.className = "gauge";
    yyDiv.innerHTML = `<div class="circle">${yinYang}%</div><div class="title">Yin-Yang</div><div class="value">Balance</div>`;
    container.appendChild(yyDiv);
  }

  function renderKarmaGauge() {
    const el = document.getElementById("karmaGauge");
    const val = Math.floor(Math.random() * 100);
    const div = document.createElement("div");
    div.className = "gauge chakra-Heart";
    div.innerHTML = `<div class="circle">${val}</div><div class="title">Total Karma</div>`;
    el.appendChild(div);
  }

  function renderNakshatraGauge() {
    const el = document.getElementById("nakshatraGauge");
    const index = new Date().getDate() % nakshatras.length;
    const div = document.createElement("div");
    div.className = "gauge";
    div.innerHTML = `<div class="circle">${index + 1}</div><div class="title">${nakshatras[index]}</div>`;
    el.appendChild(div);
  }

  function renderTaoGauge() {
    const el = document.getElementById("taoGauge");
    const index = new Date().getHours() % elements.length;
    const div = document.createElement("div");
    div.className = `gauge ${elements[index].class}`;
    div.innerHTML = `<div class="circle">${elements[index].name}</div><div class="title">Tao Element</div>`;
    el.appendChild(div);
  }

  // Run all renders
  renderMap();
  renderPlanetGauges();
  renderChakraKarma();
  renderHouses();
  renderExtraGauges();
  renderKarmaGauge();
  renderNakshatraGauge();
  renderTaoGauge();
</script>

</body>
</html>
